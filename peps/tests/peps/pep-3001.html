<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">3001</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Procedure for reviewing and improving standard library modules</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="http://svn.python.org/view/*checkout*/peps/trunk/pep-3001.txt">$Date$</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Georg Brandl &lt;georg&#32;&#97;t&#32;python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Withdrawn</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Process</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">05-Apr-2006</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id1">Abstract</a></li>
<li><a class="reference internal" href="#removal-of-obsolete-modules" id="id2">Removal of obsolete modules</a></li>
<li><a class="reference internal" href="#renaming-modules" id="id3">Renaming modules</a></li>
<li><a class="reference internal" href="#code-cleanup" id="id4">Code cleanup</a></li>
<li><a class="reference internal" href="#enhancement-of-test-and-documentation-coverage" id="id5">Enhancement of test and documentation coverage</a></li>
<li><a class="reference internal" href="#unification-of-module-metadata" id="id6">Unification of module metadata</a></li>
<li><a class="reference internal" href="#backwards-incompatible-bug-fixes" id="id7">Backwards incompatible bug fixes</a></li>
<li><a class="reference internal" href="#interface-changes" id="id8">Interface changes</a></li>
<li><a class="reference internal" href="#references" id="id9">References</a></li>
<li><a class="reference internal" href="#copyright" id="id10">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id1">Abstract</a></h1>
<p>This PEP describes a procedure for reviewing and improving standard
library modules, especially those written in Python, making them ready
for Python 3000.  There can be different steps of refurbishing, each
of which is described in a section below.  Of course, not every step
has to be performed for every module.</p>
</div>
<div class="section" id="removal-of-obsolete-modules">
<h1><a class="toc-backref" href="#id2">Removal of obsolete modules</a></h1>
<p>All modules marked as deprecated in 2.x versions should be removed for
Python 3000.  The same applies to modules which are seen as obsolete today,
but are too widely used to be deprecated or removed.  Python 3000 is the
big occasion to get rid of them. <img alt='pep-3001-1.png' 
src='pep-3001-1.png'/></p>
<p>There will have to be a document listing all removed modules, together
with information on possible substitutes or alternatives.  This infor-
mation will also have to be provided by the python3warn.py porting
helper script mentioned in PEP XXX.</p>
</div>
<div class="section" id="renaming-modules">
<h1><a class="toc-backref" href="#id3">Renaming modules</a></h1>
<p>There are proposals for a &quot;great stdlib renaming&quot; introducing a hierarchic
library namespace or a top-level package from which to import standard
modules.  That possibility aside, some modules' names are known to have
been chosen unwisely, a mistake which could never be corrected in the 2.x
series.  Examples are names like &quot;StringIO&quot; or &quot;Cookie&quot;.  For Python 3000,
there will be the possibility to give those modules less confusing and
more conforming names.</p>
<p>Of course, each rename will have to be stated in the documentation of
the respective module and perhaps in the global document of Step 1.
Additionally, the python3warn.py script will recognize the old module
names and notify the user accordingly.</p>
<p>If the name change is made in time for another release of the Python 2.x
series, it is worth considering to introduce the new name in the 2.x
branch to ease transition.</p>
</div>
<div class="section" id="code-cleanup">
<h1><a class="toc-backref" href="#id4">Code cleanup</a></h1>
<p>As most library modules written in Python have not been touched except
for bug fixes, following the policy of never changing a running system,
many of them may contain code that is not up to the newest language
features and could be rewritten in a more concise, modern Python.</p>
<p>PyChecker should run cleanly over the library.  With a carefully tuned
configuration file, PyLint should also emit as few warnings as possible.</p>
<p>As long as these changes don't change the module's interface and behavior,
no documentation updates are necessary.</p>
</div>
<div class="section" id="enhancement-of-test-and-documentation-coverage">
<h1><a class="toc-backref" href="#id5">Enhancement of test and documentation coverage</a></h1>
<p>Code coverage by unit tests varies greatly between modules.  Each test
suite should be checked for completeness, and the remaining classic tests
should be converted to PyUnit (or whatever new shiny testing framework
comes with Python 3000, perhaps py.test?).</p>
<p>It should also be verified that each publicly visible function has a
meaningful docstring which ideally contains several doctests.</p>
<p>No documentation changes are necessary for enhancing test coverage.</p>
</div>
<div class="section" id="unification-of-module-metadata">
<h1><a class="toc-backref" href="#id6">Unification of module metadata</a></h1>
<p>This is a small and probably not very important step.  There have been
various attempts at providing author, version and similar metadata in
modules (such as a &quot;__version__&quot; global).  Those could be standardized
and used throughout the library.</p>
<p>No documentation changes are necessary for this step, too.</p>
</div>
<div class="section" id="backwards-incompatible-bug-fixes">
<h1><a class="toc-backref" href="#id7">Backwards incompatible bug fixes</a></h1>
<p>Over the years, many bug reports have been filed which complained about
bugs in standard library modules, but have subsequently been closed as
&quot;Won't fix&quot; since a fix would have introduced a major incompatibility
which was not acceptable in the Python 2.x series.  In Python 3000, the
fix can be applied if the interface per se is still acceptable.</p>
<p>Each slight behavioral change caused by such fixes must be mentioned in
the documentation, perhaps in a &quot;Changed in Version 3.0&quot; paragraph.</p>
</div>
<div class="section" id="interface-changes">
<h1><a class="toc-backref" href="#id8">Interface changes</a></h1>
<p>The last and most disruptive change is the overhaul of a module's public
interface.  If a module's interface is to be changed, a justification
should be made beforehand, or a PEP should be written.</p>
<p>The change must be fully documented as &quot;New in Version 3.0&quot;, and the
python3warn.py script must know about it.</p>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id9">References</a></h1>
<p>None yet.</p>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id10">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
</div>

